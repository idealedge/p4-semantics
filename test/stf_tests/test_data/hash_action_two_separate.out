<T> <k> @nextPacket </k> <headers> <header> <name> %standard_metadata_t </name> <opts> .Map </opts> <fields> egress_spec : 32 ( .FieldMods ) ;  ( egress_spec : 32 ( .FieldMods ) ;  .FieldDecs ) </fields> </header> <header> <name> counter_metadata_t </name> <opts> "$fixed_width" |-> 32 </opts> <fields> counter_index_first : 16 ( .FieldMods ) ;  ( counter_index_second : 16 ( .FieldMods ) ;  .FieldDecs ) </fields> </header> <header> <name> data_t </name> <opts> "$fixed_width" |-> 128 </opts> <fields> f1 : 32 ( .FieldMods ) ;  ( f2 : 32 ( .FieldMods ) ;  ( h1 : 16 ( .FieldMods ) ;  ( h2 : 16 ( .FieldMods ) ;  ( h3 : 16 ( .FieldMods ) ;  ( h4 : 16 ( .FieldMods ) ;  .FieldDecs ) ) ) ) ) </fields> </header> </headers> <arrays> .Map </arrays> <fieldLists> .FieldListCellBag </fieldLists> <fieldListCalcs> .FieldListCalcCellBag </fieldListCalcs> <calcFields> .CalcFieldCellBag </calcFields> <instances> <instance> <valid> true </valid> <metadata> true </metadata> <typeName> %standard_metadata_t </typeName> <name> standard_metadata </name> <fieldVals> ingress_port |-> @val ( 0 , 32 , false ) egress_spec |-> @val ( 3 , 32 , false ) </fieldVals> </instance> <instance> <valid> true </valid> <metadata> true </metadata> <typeName> counter_metadata_t </typeName> <name> counter_metadata </name> <fieldVals> counter_index_first |-> @val ( 8 , 16 , false ) counter_index_second |-> @val ( 11 , 16 , false ) </fieldVals> </instance> <instance> <valid> true </valid> <metadata> false </metadata> <typeName> data_t </typeName> <name> data </name> <fieldVals> h2 |-> @val ( 1285 , 16 , false ) h1 |-> @val ( 1028 , 16 , false ) h4 |-> @val ( 1799 , 16 , false ) f2 |-> @val ( 1431655765 , 32 , false ) h3 |-> @val ( 1542 , 16 , false ) f1 |-> @val ( 1145324612 , 32 , false ) </fieldVals> </instance> </instances> <initInstances> <instances>-fragment <instance> <valid> true </valid> <metadata> true </metadata> <typeName> %standard_metadata_t </typeName> <name> standard_metadata </name> <fieldVals> ingress_port |-> @undef egress_spec |-> @undef </fieldVals> </instance> <instance> <valid> true </valid> <metadata> true </metadata> <typeName> counter_metadata_t </typeName> <name> counter_metadata </name> <fieldVals> counter_index_first |-> @val ( 0 , 16 , false ) counter_index_second |-> @val ( 0 , 16 , false ) </fieldVals> </instance> <instance> <valid> false </valid> <metadata> false </metadata> <typeName> data_t </typeName> <name> data </name> <fieldVals> .Map </fieldVals> </instance> </instances>-fragment </initInstances> <initArrays> .Map </initArrays> <parserStates> <state> <name> start </name> <body> ( extract ( data ) ; .ExtractOrSetStatements ) return ingress ; </body> </state> </parserStates> <valueSets> .ValueSetCellBag </valueSets> <exceptionHandlers> .ExceptionHandlerCellBag </exceptionHandlers> <handledExceptions> .Set </handledExceptions> <statefuls> <stateful> <stype> $counter </stype> <name> count2 </name> <opts> "$instant_count" |-> 16384 "$table" |-> stats2 "$signed" |-> false "$binding" |-> $static "$counter_type" |-> packets "$saturating" |-> false "$min_width" |-> 32 </opts> <vals> .Map </vals> <width> 0 </width> </stateful> <stateful> <stype> $counter </stype> <name> count1 </name> <opts> "$instant_count" |-> 16384 "$table" |-> stats "$signed" |-> false "$binding" |-> $static "$counter_type" |-> packets "$saturating" |-> false "$min_width" |-> 32 </opts> <vals> .Map </vals> <width> 0 </width> </stateful> </statefuls> <tableDirects> .Map </tableDirects> <actions> <action> <name> count_entries2 </name> <params> .ParamList </params> <body> count ( count2 , ( ( counter_metadata . counter_index_second ) , .Args ) ) ;  .ActionStatements </body> </action> <action> <name> count_entries </name> <params> .ParamList </params> <body> count ( count1 , ( ( counter_metadata . counter_index_first ) , .Args ) ) ;  .ActionStatements </body> </action> <action> <name> set_index </name> <params> index1 , ( index2 , ( port , .ParamList ) ) </params> <body> modify_field ( ( counter_metadata . counter_index_first ) , ( index1 , .Args ) ) ;  ( modify_field ( ( counter_metadata . counter_index_second ) , ( index2 , .Args ) ) ;  ( modify_field ( ( standard_metadata . egress_spec ) , ( port , .Args ) ) ;  .ActionStatements ) ) </body> </action> </actions> <actionProfiles> .ActionProfileCellBag </actionProfiles> <actionSelectors> .ActionSelectorCellBag </actionSelectors> <tables> <table> <name> stats2 </name> <reads> .FieldMatchs </reads> <acts> actions { count_entries2 ;  .ActionNameItems } </acts> <opts> .TableOptionals </opts> <rules> .List </rules> <default> . </default> </table> <table> <name> stats </name> <reads> .FieldMatchs </reads> <acts> actions { count_entries ;  .ActionNameItems } </acts> <opts> .TableOptionals </opts> <rules> .List </rules> <default> . </default> </table> <table> <name> index_setter </name> <reads> ( data . f1 ) : exact ;  ( ( data . f2 ) : exact ;  .FieldMatchs ) </reads> <acts> actions { set_index ;  .ActionNameItems } </acts> <opts> size : 2048 ;  .TableOptionals </opts> <rules> ListItem ( $rule ( 0 , $ctr ( ListItem ( @val ( 286331153 , 0 , false ) ) ListItem ( @val ( 572662306 , 0 , false ) ) ) , @call ( set_index , $resolved ( ListItem ( @val ( 9 , 0 , false ) ) ListItem ( @val ( 10 , 0 , false ) ) ListItem ( @val ( 1 , 0 , false ) ) ) ) ) ) ListItem ( $rule ( 1 , $ctr ( ListItem ( @val ( 572662306 , 0 , false ) ) ListItem ( @val ( 858993459 , 0 , false ) ) ) , @call ( set_index , $resolved ( ListItem ( @val ( 9 , 0 , false ) ) ListItem ( @val ( 11 , 0 , false ) ) ListItem ( @val ( 2 , 0 , false ) ) ) ) ) ) ListItem ( $rule ( 2 , $ctr ( ListItem ( @val ( 858993459 , 0 , false ) ) ListItem ( @val ( 1145324612 , 0 , false ) ) ) , @call ( set_index , $resolved ( ListItem ( @val ( 9 , 0 , false ) ) ListItem ( @val ( 11 , 0 , false ) ) ListItem ( @val ( 2 , 0 , false ) ) ) ) ) ) ListItem ( $rule ( 3 , $ctr ( ListItem ( @val ( 1145324612 , 0 , false ) ) ListItem ( @val ( 1431655765 , 0 , false ) ) ) , @call ( set_index , $resolved ( ListItem ( @val ( 8 , 0 , false ) ) ListItem ( @val ( 11 , 0 , false ) ) ListItem ( @val ( 3 , 0 , false ) ) ) ) ) ) </rules> <default> . </default> </table> </tables> <controlFlows> <control> <name> ingress </name> <body> apply ( index_setter ) { .HitMissCases }  ( apply ( stats ) { .HitMissCases }  ( apply ( stats2 ) { .HitMissCases }  .ControlStatements ) ) </body> </control> </controlFlows> <cfset> SetItem ( ingress ) </cfset> <calcFieldSet> .Set </calcFieldSet> <ctx> <frameStack> .List </frameStack> <crnt> "$rule" |-> . "$table" |-> . "$action" |-> set_index "$miss" |-> true </crnt> </ctx> <packet> "01000100010001000100010001000100010101010101010101010101010101010000010000000100000001010000010100000110000001100000011100000111" </packet> <packetout> .List </packetout> <parser> <graph> <onpath> .Set </onpath> <marked> <mstates> SetItem ( start ) </mstates> <mheaders> SetItem ( data ) </mheaders> </marked> <dporder> ListItem ( data ) </dporder> </graph> <pctx> <index> 128 </index> <lastExt> data </lastExt> <varWidth> . </varWidth> <packetSize> @val ( 16 , 0 , false ) </packetSize> </pctx> </parser> <buffer> <in> .List </in> <out> ListItem ( $packet ( ListItem ( @val ( 286331153 , 32 , false ) ) ListItem ( @val ( 572662306 , 32 , false ) ) ListItem ( @val ( 257 , 16 , false ) ) ListItem ( @val ( 514 , 16 , false ) ) ListItem ( @val ( 771 , 16 , false ) ) ListItem ( @val ( 1028 , 16 , false ) ) , 1 ) ) ListItem ( $packet ( ListItem ( @val ( 572662306 , 32 , false ) ) ListItem ( @val ( 858993459 , 32 , false ) ) ListItem ( @val ( 514 , 16 , false ) ) ListItem ( @val ( 771 , 16 , false ) ) ListItem ( @val ( 1028 , 16 , false ) ) ListItem ( @val ( 1285 , 16 , false ) ) , 2 ) ) ListItem ( $packet ( ListItem ( @val ( 858993459 , 32 , false ) ) ListItem ( @val ( 1145324612 , 32 , false ) ) ListItem ( @val ( 771 , 16 , false ) ) ListItem ( @val ( 1028 , 16 , false ) ) ListItem ( @val ( 1285 , 16 , false ) ) ListItem ( @val ( 1542 , 16 , false ) ) , 2 ) ) ListItem ( $packet ( ListItem ( @val ( 1145324612 , 32 , false ) ) ListItem ( @val ( 1431655765 , 32 , false ) ) ListItem ( @val ( 1028 , 16 , false ) ) ListItem ( @val ( 1285 , 16 , false ) ) ListItem ( @val ( 1542 , 16 , false ) ) ListItem ( @val ( 1799 , 16 , false ) ) , 3 ) ) </out> </buffer> </T>
